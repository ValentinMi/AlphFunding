# Check if there are changes in the contracts/ folder
if git diff --cached --name-only | grep -q '^contracts/'; then
  echo "Changes detected in contracts/ folder, compiling..."

  # Run test
  pnpx vitest run

  # Run the compile command
  pnpx @alephium/cli compile

  # Add the changes generated by the compile command
  git add artifacts/
fi
